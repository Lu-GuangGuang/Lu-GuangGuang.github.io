
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        @charset 'utf-8';

        /*清除默认样式*/
        * {
            margin: 0;
            padding: 0;
        }

        ul,
        ol {
            list-style-type: none;
        }

        input,
        textarea,
        select,
        button {
            outline: none;
            background-color: transparent;
            border: none;
        }

        em,
        i {
            font-style: normal;
        }

        a {
            text-decoration: none;
        }

        /*去掉图片下的间距*/
        img {
            vertical-align: top;
        }

        /*img{ display: block; }*/
        /*清浮动*/
        .clearfix:after,
        .clearfix:before {
            content: '';
            display: table;
        }

        .clearfix:after {
            clear: both;
        }

        body {
            background-color: #131316;
            color: #fff;
            font-family: 'Poppins', sans-serif;
            padding: 0;
            margin: 0
        }

        header {
            display: grid;
            place-items: center;
            align-content: center;
            min-height: 100vh;
        }

        span {
            margin: 20px;
        }

        .box {
            display: grid;
            place-items: center;
            align-items: center;
            min-height: 100vh;
        }

        .box p {
            width: 100px;
            height: 100px;
            background-color: white;
            border-radius: 15px;
        }

        .hidden {
            opacity: 0;
            transform: translateX(-100%);
            transition: all 1s;
        }

        .show {
            opacity: 1;
            transform: translateX(0);
        }
        .box p:nth-child(1){
            transition-delay:.2s;
        }
        .box p:nth-child(2){
            transition-delay:.4s;
        }
        .box p:nth-child(3){
            transition-delay: .6s;
        }
        .box p:nth-child(4){
            transition-delay: .8s;
        }
        .box p:nth-child(5){
            transition-delay: 1s;
        }
    </style>
</head>

<body>
    <header>
        <h1>Hi,boy</h1>
        <span>Welcome To MyHome</span>
    </header>
    <div class="box">
        <p class="hidden"></p>
        <p class="hidden"></p>
        <p class="hidden"></p>
        <p class="hidden"></p>
        <p class="hidden"></p>
    </div>
</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/push.js/0.0.11/push.min.js"></script>
<script>
    let roots = document.getElementsByClassName('box')[0]
    console.log(roots);
    const observer = new IntersectionObserver((entries) => {
        // entries.forEach((entry)=>{
        //     console.log(entry);
        //     if(entry.isIntersecting){
        //         entry.target.classList.add('show')
        //         observer.unobserve(entry.target)
        //     }
        // })
        if (entries[0].isIntersecting) {
            console.log(entries[0].target.children);
            Array.from(entries[0].target.children).forEach((item) => {
                item.classList.add('show')
            })
        }

    }, {
        threshold: [0.5]
    })
    const hiddenElements = document.querySelectorAll('.box p')
    // hiddenElements.forEach((el)=>{
    // observer.observe(el)
    // })
    observer.observe(roots)
</script>

</html>
